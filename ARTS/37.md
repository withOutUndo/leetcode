
### Algorithm

leetCode 71.ç®€åŒ–è·¯å¾„

```javascript
var simplifyPath = function(path) {
    const arr = path.split('/');
    let stack = [];

    arr.map(i => {
      if (i === '..') {
        stack.shift();
      } else if (i && i !== '.') {
        stack.unshift(i);
      }
    })

    return '/' + stack.reverse().join('/');
};
```
ä½¿ç”¨æ ˆï¼ŒåŒºåˆ†`.`å’Œ`..`ï¼Œä¸Šçº§ç›®å½•çš„å‡ºæˆ˜ï¼Œå…¶ä½™çš„é™¤äº†å½“å‰ç›®å½•çš„è¿›æ ˆã€‚æœ€åçš„æ ˆå‰åŠ `/`ä¸ºè§£ã€‚

leetCode 678.æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²

```javascript
var checkValidString = function(s) {
  let stack = [];
  let star = [];
  s.split("").map((i, index) => {
    if (i === "(") {
      stack.unshift({ value: i, index });
    }
    if (i === ")") {
      if (stack[0] && stack[0].value === "(") {
        stack.shift();
      } else {
        stack.unshift({ value: i, index });
      }
    }

    if (i === "*") {
      star.push({ value: i, index });
    }
  });

  if (stack.length === 0) {
    return true;
  }

  return stack
  .filter(i => i.value !== "*")
  .map((i, index) => {
    let aLen = star.length;
    // console.log(star);
    if (aLen) {
      if (i.value === "(" && star[aLen - 1].index > i.index) {
        star.pop();
        return null;
      }
      if (i.value === ")" && star[0].index < i.index) {
        star.shift();
        return null;
      }
    }
    return i;
  }).reduce((pre, cur) => {
    return pre && !cur;
  }, true);
};
```
ä½¿ç”¨æ ˆï¼Œ`*`å·çš„æ”¾å…¥å¦ä¸€ä¸ªæ•°ç»„ï¼Œ`(`è¿›æ ˆï¼Œ`)`æ—¶åˆ¤æ–­æ ˆé¡¶å…ƒç´ ä¸º`(`æ—¶æ ˆé¡¶å‡ºæ ˆï¼Œå¦åˆ™å…¥æ ˆï¼Œæœ€ååˆ¤æ–­æ ˆé‡Œæœ‰æ•°æ®æ²¡æœ‰ï¼Œæœ‰çš„è¯å’Œ`*`å·æ•°ç»„å¯¹æ¯”ï¼ŒåŒ¹é…ï¼Œæœ€åå†åˆ¤æ–­æ ˆå†…æœ‰æ— æ•°æ®ï¼Œæœ‰åˆ™æ²¡æœ‰åŒ¹é…æˆåŠŸã€‚

### Review

- (Creating Behavioral Components in Angular)[https://netbasal.com/creating-behavioral-components-in-angular-8db6080f0cc4]

æ–°å­¦åˆ°ä¸€ä¸ª`exportAs`ï¼Œåœ¨æ¨¡ç‰ˆå­—ç¬¦ä¸²å¼•ç”¨æ—¶å¯ä»¥ç®€å†™ã€‚å…¶ä»–æ²¡æ€ä¹ˆç†è§£ï¼Œç»ƒä¹ æ‰“å­—äº†ã€‚

### Tip

åˆ†äº«ä¸€æ®µä»£ç ï¼š

``` typescript

@Component({
  selector: "app-play-and-pause",
  template: `
    <button (click)="toggle()">
      {{ (active$ | async) ? "Pause" : "Play" }}
    </button>
    <button (click)="restart()">restart</button>
    <button (click)="toggleDestroy()">toggle</button>
    <button (click)="getData()">getData</button>
  `
  // styleUrls: ["./app.component.css"]
})
export class PlayAndPauseComponent implements OnInit {
  active$: BehaviorSubject<boolean>;
  restart$: Subject<boolean>;
  destroy$: Subject<boolean>;
  data$: ReplaySubject<Array<any>>;
  data = [];
  isDestroy = false;

  ngOnInit(): void {
    this.active$ = new BehaviorSubject<boolean>(true);
    this.restart$ = new Subject();
    this.destroy$ = new Subject();
    this.data$ = new ReplaySubject(1);

    const on$ = this.active$.pipe(filter(v => v));
    const off$ = this.active$.pipe(filter(v => !v));
    
    const stream$ = timer(500, 500).pipe(
      share(),
    );

    const out$ = this.data$.pipe(
      switchMap(data =>
        zip(
          stream$.pipe(
            windowToggle(on$, () => off$),
            mergeMap(x => x),
          ),
          of(...data).pipe(
            map((i, index) =>
              of(i).pipe(
                delay(index * 500)
              )
            ),
            mergeAll(),
          )
        ),
        
      ),
      takeWhile(() => !this.isDestroy),
      takeUntil(this.restart$),
      map(([_, res]) => res),
    );

    const fn = () => out$.subscribe(
      v => console.log(v),
      () => {},
      () => {
        console.log("complete");
      }
    );

    this.restart$.subscribe(() => {
      fn();
    });
  }

  toggle(): void {
    this.active$.next(!this.active$.value);
  }

  restart(): void {
    this.restart$.next(!this.active$.value);
    this.active$.next(false);
  }

  toggleDestroy() {
    this.isDestroy = true;
  }

  getData() {
    this.data = [(this.data[0] || 0) + 1, ...this.data];
    this.data$.next([...this.data]);
    this.restart();
  }
}
```
å®ç°å®šæ—¶è¾“å‡ºã€æš‚åœã€æ¢å¤ä»¥åŠé‡æ–°å¼€å§‹ã€‚å†æ¬¡ä½“ä¼šåˆ°rxjsçš„å¼ºå¤§ä¹‹å¤„ï¼Œå¤„ç†å„ç§å¼‚æ­¥æ•°æ®ï¼Œå°†å„ç§æ“ä½œç¬¦ç»„åˆä»¥æ»¡è¶³éœ€æ±‚ã€‚

### Share
-ğŸˆ¹ï¸